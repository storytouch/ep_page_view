/* Etherpad does not set #linemetricsdiv with the same line-height as the editor, and we need
   this in order to calculate page breaks when zoom is not 100% */
#linemetricsdiv {
  line-height: 16px;
}

.innerPV{
  background-color:#fff;
}

.pageView {
  width:100%;
  margin-left:0px;
  height:12px;
  background-color:#fff;
  margin-top:0px;
  margin-bottom:0px;
}

.lineNumbersAndPageView{
  padding-right:12px !important;
}


/* For LESS THAN 641px wide */
@media (max-width : 640px) {
  #innerdocbody{
    padding-top:0px !important;
    margin-left:0px !important;
  }
  #sidediv{
    padding-right:4px !important
  }
}

/* 444px ~ 61 chars/line */

/* If it is not possible to have any margin: */
@media (max-width : 463px) {
  #innerdocbody > div {
    margin-left: 0px !important;
    margin-right: 0px;
  }
}

/* This is the point where we hide page outline: */
@media (max-width : 691px) {
  #innerdocbody > div {
    margin-left:0px !important;
    margin-right:0px;
    max-width: 444px;
  }
  .outerBackground{
    width:100%;
  }

  .innerPV{
    border:none;
    box-shadow:none;
  }
}

/* If we have some space to have a right margin, but not
   enough for a left margin or to draw page outline: */
@media (min-width: 464px) and (max-width : 541px) {
  #innerdocbody > div {
    margin-left: 0px !important; /* right margin gets all available space */
    margin-right: calc(100% - 444px) !important;
  }
}

/* If we have some space to have both margins, but not
   enough to draw page outline: */
@media (min-width: 542px) and (max-width : 691px) {
  #innerdocbody > div {
    margin-left: 67px !important; /* left margin gets only enough to display scene number */
    margin-right: calc(100% - 511px) !important;
  }
}

/* For screens GREATER THAN 636px wide */
/* Note some browers are this pissy about this..  Chrome and FF respond at different sizes etc. */
@media (min-width : 636px) {

  #sidediv .pv{
    padding-right:12px;
  }

  .innerPVlineNumbers{
    border-radius: 0px 5px 0 0;
  }

  #innerdocbody.breakPages div.cloned {
    display: hidden;
  }

  #innerdocbody.breakPages div splitPageBreak,
  #innerdocbody.breakPages div nonSplitPageBreak,
  #innerdocbody.breakPages div contdLine,
  #innerdocbody.breakPages div more,
  #innerdocbody.breakPages div contd {
    display: block;
  }

  #innerdocbody.breakPages div more:before,
  #innerdocbody.breakPages div contd:before,
  #innerdocbody.breakPages div contd:after {
    float: left; /* need this to not allow caret to be placed on element */
    cursor: default;
  }

  /* WARNING there are other styles for MORE and CONT'D dynamically set on fixSmallZooms.js */
  #innerdocbody.breakPages div more:before {
    content: "(MORE)";
  }
  #innerdocbody.breakPages[lang=pt-br] div more:before {
    content: "(MAIS)";
  }

  #innerdocbody.breakPages div contd:before {
    content: attr(data-character);
    text-transform: uppercase;

    /* the following attributes are necessary to display ellipsis when character name is too long */
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    /* WARNING this is set on fixSmallZooms.js
    max-width: calc(100% - 64px - 222px); */ /*64px: CONT'D width; 222px: CONT'D right margin */
  }
  #innerdocbody.breakPages div contd:after {
    content: "(CONT'D)";

    /* the following attributes are necessary to display ellipsis when character name is too long */
    text-align: right;
    /* WARNING this is set on fixSmallZooms.js
    width: 64px;*/
  }
  #innerdocbody.breakPages[lang=pt-br] div contd:after {
    content: "(CONT.)";
  }

  #innerdocbody.breakPages div splitPageBreak:before,
  #innerdocbody.breakPages div nonSplitPageBreak:before {
    content: "";
    margin-right:-85px;
    background-color:#f7f7f7;
    float: right;
    cursor: default;
    /* WARNING if any of these values is changed, you need to change div.beforePageBreak style and
       fixSmallZooms.js too */
    height:40px;
    margin-top:77px;
    margin-bottom:77px;
    border-bottom:1px dotted #aaa;
    border-top:1px dotted #aaa;

    /* WARNING page break width is not defined on CSS anymore due to an issue with small zooms.
               See fixSmallZooms.js for more details.
    width:641px;
    */

    /* might be useful for printing: */
  /*  page-break-after: always;
    -webkit-region-break-inside: avoid;
  */
  }

  /* leave room for page break on line at the end of the page */
  #innerdocbody.breakPages div.beforePageBreak {
    /* All values of calc are from page break */
    /* 40px: height; 77px: margin-top and margin-bottom; 1px: border-top and border-bottom */
    padding-bottom: calc(40px + 77px + 77px + 1px + 1px);
  }

  /* hide ")" from 1st half of split parenthetical: */
  #innerdocbody.breakPages div.firstHalf parenthetical:after {
    content: ' ';
    margin-right: 0;
  }
  /* hide "(" from 2nd half of split parenthetical: */
  #innerdocbody.breakPages div.firstHalf + div parenthetical:before {
    content: ' ';
    margin-left: 0;
  }

  /* special style used on the calculation of split lines: hide both "()" of cloned parenthetical */
  #innerdocbody.breakPages div.clone parenthetical:after,
  #innerdocbody.breakPages div.clone parenthetical:before {
    content: ' ';
    margin-left: 0;
    margin-right: 0;
  }

  /* page number: */
  #innerdocbody.breakPages div pagenumber {
    margin-top: -38px;
    margin-right: 4px;
    float: right;
  }
  #innerdocbody.breakPages div pagenumber:before {
    margin-right: 5px;
    content: attr(data-page-number) ".";
  }
  #innerdocbody.breakPages div calculating {
    float: right;
  }

  /* Animation for page number calculation. Based on .loadingAnimation from pad.css of Etherpad. */
  /* Selects all lines after line marked with lastPaginated class */
  div.lastPaginated ~ div calculating {
    -webkit-animation: loadingAnimation 2s infinite linear;
    animation: loadingAnimation 2s infinite linear;
    font-family: "fontawesome-etherpad";
    z-index:150;
  }

  div.lastPaginated ~ div calculating:before {
    content: "\e80e";
  }

  .outerBackground{
    background-color:#f7f7f7 !important;
    width: 641px; /* this is overwritten by ep_comments */
    margin:auto;
    border:none;
  }

  .innerPV{
    background-color:#fff;
    border-radius: 5px 5px 0 0;
    border: 1px solid #ccc;
    border-width: 1px 1px 0 1px;
    position: relative;
    box-shadow: 10px 20px 40px 20px #ddd;
    padding-right:0px !important;
    padding-top:77px !important;
    min-height:1500px;
  }

  #innerdocbody .innerPV{
    min-height:1500px;
    padding-top:77px !important;
  }

  #innerdocbody > div {
    margin-left:117px !important; /* WARNING if you change this here, you need to change on fixSmallZooms.js too */
    margin-right:78px !important; /* WARNING if you change this here, you need to change on fixSmallZooms.js too */
  }

  .pageBreakFullScreen{
    width:100%;
    height:1px;
  }

  .lineNumbersAndPageView{
    /* width:28px !important; */
    /* The above breaks ep_comments */
    border-radius: 5px 0 0 0;
    border: 1px solid #ccc;
    border-right:none !important;
    top: 7px !important;
    left: auto !important;
    padding-top: 77px !important;
  }

  .outerBackground{
    background-color:#6e6e !important;
  }
}

